#! /usr/bin/perl -w

# Source files and the file list are taken from data/boot.
#
# Usage:        mk_boot_axp

=head1 mk_boot_axp

=cut


# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# the usual fuss...

BEGIN { unshift @INC, ( $0 =~ /(.*?)((?<![^\/])bin\/)?[^\/]+$/ )[0] . "lib" }
use ReadConfig;
use AddFiles;
use MakeFATImage;

die "usage: $Script\n" if @ARGV;


# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# some config data

$srcdir = "${DataPath}boot";

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# now we really start...

# copy the kernel
AddFiles ${ImagePath}, "${srcdir}/boot.file_list.axp", $srcdir or
  die "$Script: failed to copy kernel image";

