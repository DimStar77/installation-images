d bin dev etc mnt proc tmp
d var/run var/adm/mount var/lib/YaST var/spool var/lock var/log var/tmp

d var/X11R6/xkb/compiled var/X11R6/bin var/X11R6/app-defaults etc/X11 var/lib/xkb
s /usr/X11R6/lib/X11 var/X11R6/lib

d modules
d dev/usb

if demo eq 'eval'
  if lang eq 'cs_CZ'
    E echo "Language: czech" >info
  endif
endif

t var/run/utmp

c 1777 0 0 tmp

t linuxrc
c 0755 0 0 linuxrc
l linuxrc bin/cardmgr
l linuxrc bin/insmod
l linuxrc bin/loadkeys
l linuxrc bin/probe
l linuxrc bin/rmmod
l linuxrc bin/sh
l linuxrc bin/setfont
l linuxrc bin/init
l linuxrc bin/mount
l linuxrc bin/umount
l linuxrc bin/cat
l linuxrc bin/portmap
l linuxrc etc/nothing

if linuxrc
  X <linuxrc> /linuxrc
else
  linuxrc:
    m /usr/sbin/linuxrc /linuxrc
endif

x etc/host.conf etc
x etc/syslog.conf etc

devs:
  m /usr/share/doc/packages/devs/makedevs.floppy /
c 0755 0 0 makedevs.floppy

kbd:

  d kbd/consoletrans
  m /usr/lib/kbd/consoletrans/koi2alt kbd/consoletrans
  m /usr/lib/kbd/consoletrans/trivial kbd/consoletrans

  d kbd/consolefonts
  g /usr/lib/kbd/consolefonts/Cyr_a8x16.psfu.gz kbd/consolefonts/Cyr_a8x16.psfu
  g /usr/lib/kbd/consolefonts/lat1-16.psfu.gz kbd/consolefonts/lat1-16.psfu
  g /usr/lib/kbd/consolefonts/lat2-16.psfu.gz kbd/consolefonts/lat2-16.psfu
  g /usr/lib/kbd/consolefonts/lat7-16.psfu.gz kbd/consolefonts/lat7-16.psfu

  d kbd/keymaps/include
  m usr/lib/kbd/keymaps/include/compose.latin1 kbd/keymaps/include

if arch eq 'ia32' || arch eq 'ppc' || arch eq 'ia64' || arch eq 'sparc' || arch eq 'sparc64'
  g /usr/lib/kbd/keymaps/i386/qwerty/Pl02.map.gz kbd/keymaps/Pl02.map
  g /usr/lib/kbd/keymaps/i386/qwerty/br-abnt2.map.gz kbd/keymaps/br-abnt2.map
  g /usr/lib/kbd/keymaps/i386/qwertz/cz-us-qwertz.map.gz kbd/keymaps/cz-us-qwertz.map
  g /usr/lib/kbd/keymaps/i386/qwertz/de-lat1-nd.map.gz kbd/keymaps/de-lat1-nd.map
  g /usr/lib/kbd/keymaps/i386/qwerty/dk.map.gz kbd/keymaps/dk.map
  g /usr/lib/kbd/keymaps/i386/qwerty/es.map.gz kbd/keymaps/es.map
  g /usr/lib/kbd/keymaps/i386/qwerty/fi.map.gz kbd/keymaps/fi.map
  g /usr/lib/kbd/keymaps/i386/azerty/fr-latin1.map.gz kbd/keymaps/fr-latin1.map
  g /usr/lib/kbd/keymaps/i386/qwerty/gr.map.gz kbd/keymaps/gr.map
  g /usr/lib/kbd/keymaps/i386/qwertz/hu.map.gz kbd/keymaps/hu.map
  g /usr/lib/kbd/keymaps/i386/qwerty/it.map.gz kbd/keymaps/it.map
  g /usr/lib/kbd/keymaps/i386/qwerty/nl.map.gz kbd/keymaps/nl.map
  g /usr/lib/kbd/keymaps/i386/qwerty/no-latin1.map.gz kbd/keymaps/no-latin1.map
  g /usr/lib/kbd/keymaps/i386/qwerty/pt-latin1.map.gz kbd/keymaps/pt-latin1.map
  g /usr/lib/kbd/keymaps/i386/qwerty/ru1.map.gz kbd/keymaps/ru1.map
  g /usr/lib/kbd/keymaps/i386/qwerty/sk-qwerty.map.gz kbd/keymaps/sk-qwerty.map
  g /usr/lib/kbd/keymaps/i386/qwerty/uk.map.gz kbd/keymaps/uk.map
  g /usr/lib/kbd/keymaps/i386/qwerty/us.map.gz kbd/keymaps/us.map

  m /usr/lib/kbd/keymaps/i386/include/{linux-{keys-{bare,extd},with-modeshift-altgr}}.inc kbd/keymaps/include
  m /usr/lib/kbd/keymaps/i386/include/linux-with-alt-and-altgr.inc kbd/keymaps/include
  m /usr/lib/kbd/keymaps/i386/include/qwerty-layout.inc kbd/keymaps/include
  m /usr/lib/kbd/keymaps/i386/include/qwertz-layout.inc kbd/keymaps/include
  m /usr/lib/kbd/keymaps/i386/include/azerty-layout.inc kbd/keymaps/include
  g /usr/lib/kbd/keymaps/i386/qwertz/de-latin1.map.gz kbd/keymaps/de-latin1.map
  g /usr/lib/kbd/keymaps/i386/include/euro1.map.gz kbd/keymaps/include/euro1.map
  g /usr/lib/kbd/keymaps/i386/include/euro2.map.gz kbd/keymaps/include/euro2.map
endif

if arch eq 'ppc'
  m /usr/lib/kbd/keymaps/mac/include/mac-{azerty-layout,qwerty-layout,linux-keys-bare}.inc kbd/keymaps/include
  g /usr/lib/kbd/keymaps/mac/include/mac-euro.map.gz kbd/keymaps/include/mac-euro.map
  g /usr/lib/kbd/keymaps/mac/all/mac-be.map.gz kbd/keymaps/mac-be.map
  g /usr/lib/kbd/keymaps/mac/all/mac-de-latin1-nodeadkeys.map.gz kbd/keymaps/mac-de-latin1-nodeadkeys.map
  g /usr/lib/kbd/keymaps/mac/all/mac-de-latin1.map.gz kbd/keymaps/mac-de-latin1.map
  g /usr/lib/kbd/keymaps/mac/all/mac-de_CH.map.gz kbd/keymaps/mac-de_CH.map
  g /usr/lib/kbd/keymaps/mac/all/mac-dk-latin1.map.gz kbd/keymaps/mac-dk-latin1.map
  g /usr/lib/kbd/keymaps/mac/all/mac-es.map.gz kbd/keymaps/mac-es.map
  g /usr/lib/kbd/keymaps/mac/all/mac-fi-latin1.map.gz kbd/keymaps/mac-fi-latin1.map
  g /usr/lib/kbd/keymaps/mac/all/mac-fr.map.gz kbd/keymaps/mac-fr.map
  g /usr/lib/kbd/keymaps/mac/all/mac-it.map.gz kbd/keymaps/mac-it.map
  g /usr/lib/kbd/keymaps/mac/all/mac-se.map.gz kbd/keymaps/mac-se.map
  g /usr/lib/kbd/keymaps/mac/all/mac-uk.map.gz kbd/keymaps/mac-uk.map
  g /usr/lib/kbd/keymaps/mac/all/mac-us.map.gz kbd/keymaps/mac-us.map
endif

if arch eq 'sparc' || arch eq 'sparc64'
  g /usr/lib/kbd/keymaps/sun/sunkeymap.map.gz kbd/keymaps/sunkeymap.map
  g /usr/lib/kbd/keymaps/sun/sundvorak.map.gz kbd/keymaps/sundvorak.map
  g /usr/lib/kbd/keymaps/sun/sun-pl-altgraph.map.gz kbd/keymaps/sun-pl-altgraph.map
  g /usr/lib/kbd/keymaps/sun/sun-pl.map.gz kbd/keymaps/sun-pl.map
  g /usr/lib/kbd/keymaps/sun/sunt4-es.map.gz kbd/keymaps/sunt4-es.map
  g /usr/lib/kbd/keymaps/sun/sunt4-fi-latin1.map.gz kbd/keymaps/sunt4-fi-latin1.map
  g /usr/lib/kbd/keymaps/sun/sunt4-no-latin1.map.gz kbd/keymaps/sunt4-no-latin1.map
  g /usr/lib/kbd/keymaps/sun/sunt5-de-latin1.map.gz kbd/keymaps/sunt5-de-latin1.map
  g /usr/lib/kbd/keymaps/sun/sunt5-es.map.gz kbd/keymaps/sunt5-es.map
  g /usr/lib/kbd/keymaps/sun/sunt5-fi-latin1.map.gz kbd/keymaps/sunt5-fi-latin1.map
  g /usr/lib/kbd/keymaps/sun/sunt5-fr-latin1.map.gz kbd/keymaps/sunt5-fr-latin1.map
  g /usr/lib/kbd/keymaps/sun/sunt5-ru.map.gz kbd/keymaps/sunt5-ru.map
  g /usr/lib/kbd/keymaps/sun/sunt5-uk.map.gz kbd/keymaps/sunt5-uk.map
endif

if arch eq 'alpha' || arch eq 'ia32' || arch eq 'ppc'
  pcmcia:
  d etc/pcmcia/cis
  a etc/pcmcia/cis etc/pcmcia
  t etc/pcmcia/fixed
  c 0755 0 0 etc/pcmcia/fixed
  l etc/pcmcia/fixed  etc/pcmcia/scsi
  l etc/pcmcia/fixed  etc/pcmcia/ide
  l etc/pcmcia/fixed  etc/pcmcia/network

    /etc/pcmcia/config
    /etc/pcmcia/config.opts
  x etc/pcmcia/fixed etc/pcmcia
endif

