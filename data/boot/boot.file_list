<kernel_rpm>:

if arch eq 'ia32'
  m /boot/<kernel_img> /linux

  if special eq 'e2compr'
  X /boot/bzImage.e2compr /linux
  endif

  x message /
  x syslinux.cfg /

  if lang eq 'fr'
    x message.fr /message
    x syslinux.cfg.fr /syslinux.cfg
  endif

  if lang eq 'ko'
    x message.ko /message
    x syslinux.cfg /syslinux.cfg
  endif

  if demo eq 'eval'
    x message-eval /message
    x syslinux-eval.cfg /syslinux.cfg
    x suselogo /suselogo
    x linux.loopc /linux
  endif

  if demo eq 'live'
    x message-live /message
    x syslinux-live.cfg /syslinux.cfg
  endif

  if demo eq 'rescue'
    x message-rescue /message
    x syslinux-rescue.cfg /syslinux.cfg
  endif

  if (bootlogo eq 'no' || boot eq 'small') && bootlogo ne 'yes'
    R s/.*gfxboot.*//s /syslinux.cfg
  else
    gfxboot:
      m /usr/share/gfxboot/suseinstall /suselogo
  endif

  if (memtest eq 'no' || boot eq 'small') && memtest ne 'yes'
    R s/.*mem.*test.*//s /syslinux.cfg
  else
    lilo:
      m /boot/memtest.bin /memtest
  endif

  R s/x\.y/<suse_release>/ /message
endif		# arch eq 'ia32'

if arch eq 'ia64'
  m /boot/<kernel_img> /linux
  gnu-efi:
    m /boot/elilo.efi /
  x elilo.conf /
  x startup.nsh /
endif

if arch eq 'alpha'
  m /boot/<kernel_img> /vmlinux.gz
endif

